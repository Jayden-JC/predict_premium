{% extends 'base.html' %}

{% block masthead %}
        <!-- Masthead-->
        <header class="masthead">
            <div class="container position-relative">
                <div class="row justify-content-center">
                    <div class="col-xl-6">
                        <div class="text-center text-white">
                            <!-- Page heading-->
                            <h1 class="mb-5">Predict your health insurance premium!</h1>
                        </div>
                    </div>
                </div>
            </div>
        </header>
{% endblock %}

{% block container %}
<div class="container">
    <div class="jumbotron">
        <h1 class="display-4">{% block title %}Try it!{% endblock %}</h1>
        <p class="lead">{% block lead %}{% endblock %}</p>
        <hr class="my-4">
        <p>
            <form method="POST" action="/predict/form/new">
                <div class="form-group row">
                    <label for="inputName" class="col-sm-2 col-form-label">Name</label>
                    <div class="col-sm-10">
                        <input name="username" type="text" class="form-control" id="inputName" placeholder="Name">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="inputAge" class="col-sm-2 col-form-label">Age</label>
                    <div class="col-sm-10">
                        <input name="age" type="number" class="form-control" id="inputAge" placeholder="Age (e.g. 19)">
                    </div>
                </div>
                <fieldset class="form-group">
                    <div class="row">
                        <legend class="col-form-label col-sm-2 pt-0">Sex</legend>
                        <div class="col-sm-10">
                            <div class="form-check">
                                <input name="sex" class="form-check-input" type="radio" name="gridRadios" id="gridRadios1" value="male" checked>
                                <label class="form-check-label" for="gridRadios1">
                                    Male
                                </label>
                            </div>
                            <div class="form-check">
                                <input name="sex" class="form-check-input" type="radio" name="gridRadios" id="gridRadios2" value="female">
                                <label class="form-check-label" for="gridRadios2">
                                    Female
                                </label>
                            </div>
                        </div>
                    </div>
                </fieldset>
                <div class="form-group row">
                    <label for="inputBMI" class="col-sm-2 col-form-label">BMI</label>
                    <div class="col-sm-10">
                        <input name="bmi" type="text" class="form-control" id="inputBMI" placeholder="BMI (e.g. 27.9)">
                    </div>
                </div>
                <fieldset class="form-group">
                    <div class="row">
                        <legend class="col-form-label col-sm-2 pt-0">Smoker</legend>
                        <div class="col-sm-10">
                            <div class="form-check">
                                <input name="smoker" class="form-check-input" type="radio" name="gridRadios" id="gridRadios1" value="yes" checked>
                                <label class="form-check-label" for="gridRadios1">
                                    Yes
                                </label>
                            </div>
                            <div class="form-check">
                                <input name="smoker" class="form-check-input" type="radio" name="gridRadios" id="gridRadios2" value="no">
                                <label class="form-check-label" for="gridRadios2">
                                    No
                                </label>
                            </div>
                        </div>
                    </div>
                </fieldset>
                <div class="form-group row">
                    <div class="col-sm-10">
                        <button type="submit" class="btn btn-primary">Predict</button>
                    </div>
                </div>
            </form>
            {% if user_list %}
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">id</th>
                  <th scope="col">username</th>
                  <th scope="col">age</th>
                  <th scope="col">sex</th>
                  <th scope="col">bmi</th>
                  <th scope="col">somker</th>
                </tr>
              </thead>
              <tbody>
                {% for user in user_list %}
                <tr>
                  <th scope="row">{{ user.id }}</th>
                  <td>{{ user.username }}</td>
                  <td>{{ user.age }}</td>
                  <td>{{ user.sex }}</td>
                  <td>{{ user.bmi }}</td>
                  <td>{{ user.smoker }}</td>
                  <td>
                    <a class="btn btn-secondary", href='/predict/{{ user.username }}'>
                      Predict
                    </a>
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
            {% endif %}
        </p>
    </div>
</div>
{% endblock %}